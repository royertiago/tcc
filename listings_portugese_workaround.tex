% The package listings is unable to deal correctly
% with multibyte strings.
% A workaround is to replace every "offending character"
% with its respective TeX escape codes.
%
% This is acomplished with the 'literate programming'
% feature of the listings package.
\lstset{
literate=
    {á}{{\' a}}1
    {Á}{{\' A}}1
    {à}{{\` a}}1
    {À}{{\` A}}1
    {â}{{\^ a}}1
    {Â}{{\^ A}}1
    {ã}{{\~ a}}1
    {Ã}{{\~ A}}1
    {ç}{{\c c}}1
    {Ç}{{\c C}}1
    {é}{{\' e}}1
    {É}{{\' E}}1
    {ê}{{\^ e}}1
    {Ê}{{\^ E}}1
    {í}{{\' \i}}1
    {Í}{{\' I}}1
    {ó}{{\' o}}1
    {Ó}{{\' O}}1
    {ô}{{\^ o}}1
    {Ô}{{\^ O}}1
    {õ}{{\~ o}}1
    {Õ}{{\~ O}}1
    {ú}{{\' u}}1
    {Ú}{{\' U}}1
}
